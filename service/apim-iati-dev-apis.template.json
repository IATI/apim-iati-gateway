{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "ApimServiceName": {
      "type": "string"
    },
    "PolicyXMLBaseUrl": {
      "type": "string"
    },
    "SolrBaseUrl": {
      "type": "string"
    }
  },
  "resources": [
    {
      "properties": {
        "description": "IATI Datastore API. Uses Apache Solr to index IATI data and provide search capabilities. Provides routes for querying valid IATI data. ",
        "authenticationSettings": {
          "subscriptionKeyRequired": false
        },
        "subscriptionKeyParameterNames": {
          "header": "Ocp-Apim-Subscription-Key",
          "query": "subscription-key"
        },
        "apiRevision": "1",
        "isCurrent": true,
        "subscriptionRequired": false,
        "displayName": "IATI Datastore",
        "serviceUrl": "[parameters('SolrBaseUrl')]",
        "path": "datastore",
        "protocols": ["https"]
      },
      "name": "[concat(parameters('ApimServiceName'), '/datastore')]",
      "type": "Microsoft.ApiManagement/service/apis",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": []
    },
    {
      "properties": {
        "contentType": "application/vnd.oai.openapi.components+json",
        "document": {
          "components": {
            "schemas": {
              "Query Response All IATI Fields": {
                "type": "object",
                "properties": {
                  "responseHeader": {
                    "type": "object",
                    "properties": {
                      "zkConnected": {
                        "type": "boolean"
                      },
                      "status": {
                        "type": "integer"
                      },
                      "QTime": {
                        "type": "integer"
                      },
                      "params": {
                        "type": "object",
                        "properties": {
                          "q": {
                            "type": "string"
                          },
                          "start": {
                            "type": "string"
                          },
                          "rows": {
                            "type": "string"
                          },
                          "wt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "response": {
                    "type": "object",
                    "properties": {
                      "numFound": {
                        "type": "integer"
                      },
                      "start": {
                        "type": "integer"
                      },
                      "numFoundExact": {
                        "type": "boolean"
                      },
                      "docs": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "dataset_version": {
                              "type": "string"
                            },
                            "dataset_linked_data_default": {
                              "type": "string"
                            },
                            "dataset_generated_datetime": {
                              "type": "string"
                            },
                            "xml_lang": {
                              "type": "string"
                            },
                            "default_currency": {
                              "type": "string"
                            },
                            "last_updated_datetime": {
                              "type": "string"
                            },
                            "humanitarian": {
                              "type": "string"
                            },
                            "linked_data_uri": {
                              "type": "string"
                            },
                            "hierarchy": {
                              "type": "string"
                            },
                            "budget_not_provided": {
                              "type": "string"
                            },
                            "iati_identifier": {
                              "type": "string"
                            },
                            "reporting_org_ref": {
                              "type": "string"
                            },
                            "reporting_org_type": {
                              "type": "string"
                            },
                            "reporting_org_secondary_reporter": {
                              "type": "string"
                            },
                            "reporting_org_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "reporting_org_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "title_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "title_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "description_type": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "description_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "description_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_ref": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_role": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_type": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_activity_id": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_crs_channel_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "participating_org_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "other_identifier_ref": {
                              "type": "string"
                            },
                            "other_identifier_type": {
                              "type": "string"
                            },
                            "other_identifier_owner_org_ref": {
                              "type": "string"
                            },
                            "other_identifier_owner_org_narrative": {
                              "type": "string"
                            },
                            "activity_status_code": {
                              "type": "string"
                            },
                            "activity_date_iso_date": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "activity_date_type": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "activity_date_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "activity_date_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "contact_info_type": {
                              "type": "string"
                            },
                            "contact_info_organisation_narrative": {
                              "type": "string"
                            },
                            "contact_info_department_narrative": {
                              "type": "string"
                            },
                            "contact_info_person_name_narrative": {
                              "type": "string"
                            },
                            "contact_info_job_title_narrative": {
                              "type": "string"
                            },
                            "contact_info_telephone": {
                              "type": "string"
                            },
                            "contact_info_email": {
                              "type": "string"
                            },
                            "contact_info_website": {
                              "type": "string"
                            },
                            "contact_info_mailing_address_narrative": {
                              "type": "string"
                            },
                            "activity_scope_code": {
                              "type": "string"
                            },
                            "recipient_country_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "recipient_country_percentage": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "recipient_region_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "recipient_region_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "recipient_region_percentage": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "recipient_region_vocabulary_uri": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_ref": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_location_reach_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_location_id_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_location_id_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_name_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_description_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_activity_description_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_administrative_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_administrative_level": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_administrative_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_point_srsName": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_point_pos": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_exactness_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_location_class_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "location_feature_designation_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "sector_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "sector_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "sector_percentage": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "sector_vocabulary_uri": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "sector_narrative": {
                              "type": "string"
                            },
                            "tag_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "tag_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "tag_vocabulary_uri": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "tag_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "country_budget_items_vocabulary": {
                              "type": "string"
                            },
                            "country_budget_items_budget_item_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "country_budget_items_budget_item_percentage": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "country_budget_items_budget_item_description_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "humanitarian_scope_type": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "humanitarian_scope_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "humanitarian_scope_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "humanitarian_scope_vocabulary_uri": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "humanitarian_scope_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "humanitarian_scope_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "policy_marker_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "policy_marker_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "policy_marker_significance": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "policy_marker_vocabulary_uri": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "policy_marker_narrative": {
                              "type": "string"
                            },
                            "collaboration_type_code": {
                              "type": "string"
                            },
                            "default_flow_type_code": {
                              "type": "string"
                            },
                            "default_finance_type_code": {
                              "type": "string"
                            },
                            "default_aid_type_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "default_aid_type_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "default_tied_status_code": {
                              "type": "string"
                            },
                            "budget_type": {
                              "type": "string"
                            },
                            "budget_status": {
                              "type": "string"
                            },
                            "budget_period_start_iso_date": {
                              "type": "string"
                            },
                            "budget_period_end_iso_date": {
                              "type": "string"
                            },
                            "budget_value": {
                              "type": "string"
                            },
                            "budget_value_currency": {
                              "type": "string"
                            },
                            "budget_value_value_date": {
                              "type": "string"
                            },
                            "planned_disbursement_type": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "planned_disbursement_period_start_iso_date": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "planned_disbursement_period_end_iso_date": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "planned_disbursement_value": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "planned_disbursement_value_currency": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "planned_disbursement_value_value_date": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "planned_disbursement_provider_org_provider_activity_id": {
                              "type": "string"
                            },
                            "planned_disbursement_provider_org_type": {
                              "type": "string"
                            },
                            "planned_disbursement_provider_org_ref": {
                              "type": "string"
                            },
                            "planned_disbursement_provider_org_narrative": {
                              "type": "string"
                            },
                            "planned_disbursement_receiver_org_receiver_activity_id": {
                              "type": "string"
                            },
                            "planned_disbursement_receiver_org_type": {
                              "type": "string"
                            },
                            "planned_disbursement_receiver_org_ref": {
                              "type": "string"
                            },
                            "planned_disbursement_receiver_org_narrative": {
                              "type": "string"
                            },
                            "capital_spend_percentage": {
                              "type": "string"
                            },
                            "transaction_ref": {
                              "type": "string"
                            },
                            "transaction_humanitarian": {
                              "type": "string"
                            },
                            "transaction_transaction_type_code": {
                              "type": "string"
                            },
                            "transaction_transaction_date_iso_date": {
                              "type": "string"
                            },
                            "transaction_value": {
                              "type": "string"
                            },
                            "transaction_value_currency": {
                              "type": "string"
                            },
                            "transaction_value_value_date": {
                              "type": "string"
                            },
                            "transaction_description_narrative": {
                              "type": "string"
                            },
                            "transaction_provider_org_provider_activity_id": {
                              "type": "string"
                            },
                            "transaction_provider_org_type": {
                              "type": "string"
                            },
                            "transaction_provider_org_ref": {
                              "type": "string"
                            },
                            "transaction_provider_org_narrative": {
                              "type": "string"
                            },
                            "transaction_receiver_org_receiver_activity_id": {
                              "type": "string"
                            },
                            "transaction_receiver_org_type": {
                              "type": "string"
                            },
                            "transaction_receiver_org_ref": {
                              "type": "string"
                            },
                            "transaction_receiver_org_narrative": {
                              "type": "string"
                            },
                            "transaction_disbursement_channel_code": {
                              "type": "string"
                            },
                            "transaction_flow_type_code": {
                              "type": "string"
                            },
                            "transaction_finance_type_code": {
                              "type": "string"
                            },
                            "transaction_aid_type_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "transaction_aid_type_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "transaction_tied_status_code": {
                              "type": "string"
                            },
                            "document_link_format": {
                              "type": "string"
                            },
                            "document_link_url": {
                              "type": "string"
                            },
                            "document_link_title_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "document_link_title_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "document_link_description_narrative": {
                              "type": "string"
                            },
                            "document_link_category_code": {
                              "type": "string"
                            },
                            "document_link_language_code": {
                              "type": "string"
                            },
                            "document_link_document_date_iso_date": {
                              "type": "string"
                            },
                            "related_activity_ref": {
                              "type": "string"
                            },
                            "related_activity_type": {
                              "type": "string"
                            },
                            "legacy_data_name": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "legacy_data_value": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "legacy_data_iati_equivalent": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "conditions_attached": {
                              "type": "string"
                            },
                            "conditions_condition_type": {
                              "type": "string"
                            },
                            "conditions_condition_narrative": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "conditions_condition_narrative_xml_lang": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_type": {
                              "type": "string"
                            },
                            "result_aggregation_status": {
                              "type": "string"
                            },
                            "result_title_narrative": {
                              "type": "string"
                            },
                            "result_description_narrative": {
                              "type": "string"
                            },
                            "result_document_link_format": {
                              "type": "string"
                            },
                            "result_document_link_url": {
                              "type": "string"
                            },
                            "result_document_link_title_narrative": {
                              "type": "string"
                            },
                            "result_document_link_description_narrative": {
                              "type": "string"
                            },
                            "result_document_link_category_code": {
                              "type": "string"
                            },
                            "result_document_link_language_code": {
                              "type": "string"
                            },
                            "result_document_link_document_date_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_measure": {
                              "type": "string"
                            },
                            "result_indicator_ascending": {
                              "type": "string"
                            },
                            "result_indicator_aggregation_status": {
                              "type": "string"
                            },
                            "result_indicator_title_narrative": {
                              "type": "string"
                            },
                            "result_indicator_description_narrative": {
                              "type": "string"
                            },
                            "result_indicator_document_link_format": {
                              "type": "string"
                            },
                            "result_indicator_document_link_url": {
                              "type": "string"
                            },
                            "result_indicator_document_link_title_narrative": {
                              "type": "string"
                            },
                            "result_indicator_document_link_description_narrative": {
                              "type": "string"
                            },
                            "result_indicator_document_link_category_code": {
                              "type": "string"
                            },
                            "result_indicator_document_link_language_code": {
                              "type": "string"
                            },
                            "result_indicator_document_link_document_date_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_reference_vocabulary": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_reference_code": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_reference_indicator_uri": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_baseline_year": {
                              "type": "string"
                            },
                            "result_indicator_baseline_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_baseline_value": {
                              "type": "string"
                            },
                            "result_indicator_baseline_location_ref": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_baseline_dimension_name": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_baseline_dimension_value": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_baseline_document_link_format": {
                              "type": "string"
                            },
                            "result_indicator_baseline_document_link_url": {
                              "type": "string"
                            },
                            "result_indicator_baseline_document_link_title_narrative": {
                              "type": "string"
                            },
                            "result_indicator_baseline_document_link_description_narrative": {
                              "type": "string"
                            },
                            "result_indicator_baseline_document_link_category_code": {
                              "type": "string"
                            },
                            "result_indicator_baseline_document_link_language_code": {
                              "type": "string"
                            },
                            "result_indicator_baseline_document_link_document_date_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_baseline_comment_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_period_start_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_period_period_end_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_period_target_value": {
                              "type": "string"
                            },
                            "result_indicator_period_target_location_ref": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_period_target_dimension_name": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_period_target_dimension_value": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_period_target_comment_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_format": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_url": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_title_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_description_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_category_code": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_language_code": {
                              "type": "string"
                            },
                            "result_indicator_period_target_document_link_document_date_iso_date": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_value": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_location_ref": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_period_actual_dimension_name": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_period_actual_dimension_value": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "result_indicator_period_actual_comment_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_format": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_url": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_title_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_description_narrative": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_category_code": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_language_code": {
                              "type": "string"
                            },
                            "result_indicator_period_actual_document_link_document_date_iso_date": {
                              "type": "string"
                            },
                            "crs_add_other_flags_code": {
                              "type": "string"
                            },
                            "crs_add_other_flags_significance": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_rate_1": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_rate_2": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_repayment_type_code": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_repayment_plan_code": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_commitment_date_iso_date": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_repayment_first_date_iso_date": {
                              "type": "string"
                            },
                            "crs_add_loan_terms_repayment_final_date_iso_date": {
                              "type": "string"
                            },
                            "crs_add_loan_status_year": {
                              "type": "string"
                            },
                            "crs_add_loan_status_currency": {
                              "type": "string"
                            },
                            "crs_add_loan_status_value_date": {
                              "type": "string"
                            },
                            "crs_add_loan_status_interest_received": {
                              "type": "string"
                            },
                            "crs_add_loan_status_principal_outstanding": {
                              "type": "string"
                            },
                            "crs_add_loan_status_principal_arrears": {
                              "type": "string"
                            },
                            "crs_add_loan_status_interest_arrears": {
                              "type": "string"
                            },
                            "crs_add_channel_code": {
                              "type": "string"
                            },
                            "fss_extraction_date": {
                              "type": "string"
                            },
                            "fss_priority": {
                              "type": "string"
                            },
                            "fss_phaseout_year": {
                              "type": "string"
                            },
                            "fss_forecast": {
                              "type": "string"
                            },
                            "fss_forecast_year": {
                              "type": "string"
                            },
                            "fss_forecast_value_date": {
                              "type": "string"
                            },
                            "fss_forecast_currency": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "responseHeader": {
                    "zkConnected": false,
                    "status": 0,
                    "QTime": 0,
                    "params": {
                      "q": "string",
                      "start": "string",
                      "rows": "string",
                      "wt": "string"
                    }
                  },
                  "response": {
                    "numFound": 0,
                    "start": 0,
                    "numFoundExact": false,
                    "docs": [
                      {
                        "dataset_version": "string",
                        "dataset_linked_data_default": "string",
                        "dataset_generated_datetime": "string",
                        "xml_lang": "string",
                        "default_currency": "string",
                        "last_updated_datetime": "string",
                        "humanitarian": "string",
                        "linked_data_uri": "string",
                        "hierarchy": "string",
                        "budget_not_provided": "string",
                        "iati_identifier": "string",
                        "reporting_org_ref": "string",
                        "reporting_org_type": "string",
                        "reporting_org_secondary_reporter": "string",
                        "reporting_org_narrative": ["string"],
                        "reporting_org_narrative_xml_lang": ["string"],
                        "title_narrative": ["string"],
                        "title_narrative_xml_lang": ["string"],
                        "description_type": ["string"],
                        "description_narrative": ["string"],
                        "description_narrative_xml_lang": ["string"],
                        "participating_org_ref": ["string"],
                        "participating_org_role": ["string"],
                        "participating_org_type": ["string"],
                        "participating_org_activity_id": ["string"],
                        "participating_org_crs_channel_code": ["string"],
                        "participating_org_narrative": ["string"],
                        "participating_org_narrative_xml_lang": ["string"],
                        "other_identifier_ref": "string",
                        "other_identifier_type": "string",
                        "other_identifier_owner_org_ref": "string",
                        "other_identifier_owner_org_narrative": "string",
                        "activity_status_code": "string",
                        "activity_date_iso_date": ["string"],
                        "activity_date_type": ["string"],
                        "activity_date_narrative": ["string"],
                        "activity_date_narrative_xml_lang": ["string"],
                        "contact_info_type": "string",
                        "contact_info_organisation_narrative": "string",
                        "contact_info_department_narrative": "string",
                        "contact_info_person_name_narrative": "string",
                        "contact_info_job_title_narrative": "string",
                        "contact_info_telephone": "string",
                        "contact_info_email": "string",
                        "contact_info_website": "string",
                        "contact_info_mailing_address_narrative": "string",
                        "activity_scope_code": "string",
                        "recipient_country_code": ["string"],
                        "recipient_country_percentage": ["string"],
                        "recipient_region_code": ["string"],
                        "recipient_region_vocabulary": ["string"],
                        "recipient_region_percentage": ["string"],
                        "recipient_region_vocabulary_uri": ["string"],
                        "location_ref": ["string"],
                        "location_location_reach_code": ["string"],
                        "location_location_id_vocabulary": ["string"],
                        "location_location_id_code": ["string"],
                        "location_name_narrative": ["string"],
                        "location_description_narrative": ["string"],
                        "location_activity_description_narrative": ["string"],
                        "location_administrative_vocabulary": ["string"],
                        "location_administrative_level": ["string"],
                        "location_administrative_code": ["string"],
                        "location_point_srsName": ["string"],
                        "location_point_pos": ["string"],
                        "location_exactness_code": ["string"],
                        "location_location_class_code": ["string"],
                        "location_feature_designation_code": ["string"],
                        "sector_vocabulary": ["string"],
                        "sector_code": ["string"],
                        "sector_percentage": ["string"],
                        "sector_vocabulary_uri": ["string"],
                        "sector_narrative": "string",
                        "tag_vocabulary": ["string"],
                        "tag_code": ["string"],
                        "tag_vocabulary_uri": ["string"],
                        "tag_narrative": ["string"],
                        "country_budget_items_vocabulary": "string",
                        "country_budget_items_budget_item_code": ["string"],
                        "country_budget_items_budget_item_percentage": [
                          "string"
                        ],
                        "country_budget_items_budget_item_description_narrative": [
                          "string"
                        ],
                        "humanitarian_scope_type": ["string"],
                        "humanitarian_scope_vocabulary": ["string"],
                        "humanitarian_scope_code": ["string"],
                        "humanitarian_scope_vocabulary_uri": ["string"],
                        "humanitarian_scope_narrative": ["string"],
                        "humanitarian_scope_narrative_xml_lang": ["string"],
                        "policy_marker_vocabulary": ["string"],
                        "policy_marker_code": ["string"],
                        "policy_marker_significance": ["string"],
                        "policy_marker_vocabulary_uri": ["string"],
                        "policy_marker_narrative": "string",
                        "collaboration_type_code": "string",
                        "default_flow_type_code": "string",
                        "default_finance_type_code": "string",
                        "default_aid_type_code": ["string"],
                        "default_aid_type_vocabulary": ["string"],
                        "default_tied_status_code": "string",
                        "budget_type": "string",
                        "budget_status": "string",
                        "budget_period_start_iso_date": "string",
                        "budget_period_end_iso_date": "string",
                        "budget_value": "string",
                        "budget_value_currency": "string",
                        "budget_value_value_date": "string",
                        "planned_disbursement_type": ["string"],
                        "planned_disbursement_period_start_iso_date": [
                          "string"
                        ],
                        "planned_disbursement_period_end_iso_date": ["string"],
                        "planned_disbursement_value": ["string"],
                        "planned_disbursement_value_currency": ["string"],
                        "planned_disbursement_value_value_date": ["string"],
                        "planned_disbursement_provider_org_provider_activity_id": "string",
                        "planned_disbursement_provider_org_type": "string",
                        "planned_disbursement_provider_org_ref": "string",
                        "planned_disbursement_provider_org_narrative": "string",
                        "planned_disbursement_receiver_org_receiver_activity_id": "string",
                        "planned_disbursement_receiver_org_type": "string",
                        "planned_disbursement_receiver_org_ref": "string",
                        "planned_disbursement_receiver_org_narrative": "string",
                        "capital_spend_percentage": "string",
                        "transaction_ref": "string",
                        "transaction_humanitarian": "string",
                        "transaction_transaction_type_code": "string",
                        "transaction_transaction_date_iso_date": "string",
                        "transaction_value": "string",
                        "transaction_value_currency": "string",
                        "transaction_value_value_date": "string",
                        "transaction_description_narrative": "string",
                        "transaction_provider_org_provider_activity_id": "string",
                        "transaction_provider_org_type": "string",
                        "transaction_provider_org_ref": "string",
                        "transaction_provider_org_narrative": "string",
                        "transaction_receiver_org_receiver_activity_id": "string",
                        "transaction_receiver_org_type": "string",
                        "transaction_receiver_org_ref": "string",
                        "transaction_receiver_org_narrative": "string",
                        "transaction_disbursement_channel_code": "string",
                        "transaction_flow_type_code": "string",
                        "transaction_finance_type_code": "string",
                        "transaction_aid_type_code": ["string"],
                        "transaction_aid_type_vocabulary": ["string"],
                        "transaction_tied_status_code": "string",
                        "document_link_format": "string",
                        "document_link_url": "string",
                        "document_link_title_narrative": ["string"],
                        "document_link_title_narrative_xml_lang": ["string"],
                        "document_link_description_narrative": "string",
                        "document_link_category_code": "string",
                        "document_link_language_code": "string",
                        "document_link_document_date_iso_date": "string",
                        "related_activity_ref": "string",
                        "related_activity_type": "string",
                        "legacy_data_name": ["string"],
                        "legacy_data_value": ["string"],
                        "legacy_data_iati_equivalent": ["string"],
                        "conditions_attached": "string",
                        "conditions_condition_type": "string",
                        "conditions_condition_narrative": ["string"],
                        "conditions_condition_narrative_xml_lang": ["string"],
                        "result_type": "string",
                        "result_aggregation_status": "string",
                        "result_title_narrative": "string",
                        "result_description_narrative": "string",
                        "result_document_link_format": "string",
                        "result_document_link_url": "string",
                        "result_document_link_title_narrative": "string",
                        "result_document_link_description_narrative": "string",
                        "result_document_link_category_code": "string",
                        "result_document_link_language_code": "string",
                        "result_document_link_document_date_iso_date": "string",
                        "result_indicator_measure": "string",
                        "result_indicator_ascending": "string",
                        "result_indicator_aggregation_status": "string",
                        "result_indicator_title_narrative": "string",
                        "result_indicator_description_narrative": "string",
                        "result_indicator_document_link_format": "string",
                        "result_indicator_document_link_url": "string",
                        "result_indicator_document_link_title_narrative": "string",
                        "result_indicator_document_link_description_narrative": "string",
                        "result_indicator_document_link_category_code": "string",
                        "result_indicator_document_link_language_code": "string",
                        "result_indicator_document_link_document_date_iso_date": "string",
                        "result_indicator_reference_vocabulary": ["string"],
                        "result_indicator_reference_code": ["string"],
                        "result_indicator_reference_indicator_uri": ["string"],
                        "result_indicator_baseline_year": "string",
                        "result_indicator_baseline_iso_date": "string",
                        "result_indicator_baseline_value": "string",
                        "result_indicator_baseline_location_ref": ["string"],
                        "result_indicator_baseline_dimension_name": ["string"],
                        "result_indicator_baseline_dimension_value": ["string"],
                        "result_indicator_baseline_document_link_format": "string",
                        "result_indicator_baseline_document_link_url": "string",
                        "result_indicator_baseline_document_link_title_narrative": "string",
                        "result_indicator_baseline_document_link_description_narrative": "string",
                        "result_indicator_baseline_document_link_category_code": "string",
                        "result_indicator_baseline_document_link_language_code": "string",
                        "result_indicator_baseline_document_link_document_date_iso_date": "string",
                        "result_indicator_baseline_comment_narrative": "string",
                        "result_indicator_period_period_start_iso_date": "string",
                        "result_indicator_period_period_end_iso_date": "string",
                        "result_indicator_period_target_value": "string",
                        "result_indicator_period_target_location_ref": [
                          "string"
                        ],
                        "result_indicator_period_target_dimension_name": [
                          "string"
                        ],
                        "result_indicator_period_target_dimension_value": [
                          "string"
                        ],
                        "result_indicator_period_target_comment_narrative": "string",
                        "result_indicator_period_target_document_link_format": "string",
                        "result_indicator_period_target_document_link_url": "string",
                        "result_indicator_period_target_document_link_title_narrative": "string",
                        "result_indicator_period_target_document_link_description_narrative": "string",
                        "result_indicator_period_target_document_link_category_code": "string",
                        "result_indicator_period_target_document_link_language_code": "string",
                        "result_indicator_period_target_document_link_document_date_iso_date": "string",
                        "result_indicator_period_actual_value": "string",
                        "result_indicator_period_actual_location_ref": [
                          "string"
                        ],
                        "result_indicator_period_actual_dimension_name": [
                          "string"
                        ],
                        "result_indicator_period_actual_dimension_value": [
                          "string"
                        ],
                        "result_indicator_period_actual_comment_narrative": "string",
                        "result_indicator_period_actual_document_link_format": "string",
                        "result_indicator_period_actual_document_link_url": "string",
                        "result_indicator_period_actual_document_link_title_narrative": "string",
                        "result_indicator_period_actual_document_link_description_narrative": "string",
                        "result_indicator_period_actual_document_link_category_code": "string",
                        "result_indicator_period_actual_document_link_language_code": "string",
                        "result_indicator_period_actual_document_link_document_date_iso_date": "string",
                        "crs_add_other_flags_code": "string",
                        "crs_add_other_flags_significance": "string",
                        "crs_add_loan_terms_rate_1": "string",
                        "crs_add_loan_terms_rate_2": "string",
                        "crs_add_loan_terms_repayment_type_code": "string",
                        "crs_add_loan_terms_repayment_plan_code": "string",
                        "crs_add_loan_terms_commitment_date_iso_date": "string",
                        "crs_add_loan_terms_repayment_first_date_iso_date": "string",
                        "crs_add_loan_terms_repayment_final_date_iso_date": "string",
                        "crs_add_loan_status_year": "string",
                        "crs_add_loan_status_currency": "string",
                        "crs_add_loan_status_value_date": "string",
                        "crs_add_loan_status_interest_received": "string",
                        "crs_add_loan_status_principal_outstanding": "string",
                        "crs_add_loan_status_principal_arrears": "string",
                        "crs_add_loan_status_interest_arrears": "string",
                        "crs_add_channel_code": "string",
                        "fss_extraction_date": "string",
                        "fss_priority": "string",
                        "fss_phaseout_year": "string",
                        "fss_forecast": "string",
                        "fss_forecast_year": "string",
                        "fss_forecast_value_date": "string",
                        "fss_forecast_currency": "string"
                      }
                    ]
                  }
                }
              },
              "Invalid Query Parameter Response (400)": {
                "type": "object",
                "properties": {
                  "responseHeader": {
                    "type": "object",
                    "properties": {
                      "zkConnected": {
                        "type": "boolean"
                      },
                      "status": {
                        "type": "integer"
                      },
                      "QTime": {
                        "type": "integer"
                      },
                      "params": {
                        "type": "object",
                        "properties": {
                          "sort": {
                            "type": "string"
                          },
                          "rows": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "error": {
                    "type": "object",
                    "properties": {
                      "metadata": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "msg": {
                        "type": "string"
                      },
                      "code": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "name": "[concat(parameters('ApimServiceName'), '/solr/1637146457784')]",
      "type": "Microsoft.ApiManagement/service/apis/schemas",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'datastore')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [
          {
            "name": "collection",
            "description": "Defines which collection to query. The activity collection holds the data in one document per IATI Activity element. The transaction collection explodes the data to include one document per Transaction element. The budget collection explodes the data to include one document per Budget element.\n",
            "type": "string",
            "required": true,
            "values": ["activity", "budget", "transaction"]
          },
          {
            "name": "responsetype",
            "description": "Defines whether the response is standard Solr (select) or in IATI XML format (iati). Only available for the /activity/ collection path.\n",
            "type": "string",
            "defaultValue": "select",
            "required": true,
            "values": ["select", "iati"]
          }
        ],
        "description": "Query the IATI Datastore.\n\nThe API capabilities are adapted from the Solr 8.10 API documentation and abbreviated to form a summary - for more detailed documentation on any of the parameters supported by the IATI Standard Query Parser please refer to the [Solr 8.10 API documentation](https://solr.apache.org/guide/8_10/the-standard-query-parser.html)\n\nGitHub:\n\n[IATI/refresher](https://github.com/IATI/refresher)\n\n[IATI/datastore-solr-configs](https://github.com/IATI/datastore-solr-configs)",
        "request": {
          "queryParameters": [
            {
              "name": "q",
              "description": "Defines a query using standard query syntax. This parameter is mandatory. E.g. search activity description narratives for NGO: q=description_narrative:NGO",
              "type": "string",
              "required": true,
              "values": []
            },
            {
              "name": "q.op",
              "description": "Specifies the default operator for query expressions. Possible values are \"AND\" or \"OR\".",
              "type": "string",
              "defaultValue": "OR",
              "required": false,
              "values": ["AND", "OR"]
            },
            {
              "name": "df",
              "description": "Specifies a default searchable field. E.g. df=description_narrative",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "sow",
              "description": "Split on whitespace. If set to true, text analysis is invoked separately for each individual whitespace-separated term. The default is false.",
              "type": "boolean",
              "defaultValue": "false",
              "required": false,
              "values": ["false", "true"]
            },
            {
              "name": "sort",
              "description": "The sort parameter arranges search results in either ascending (asc) or descending (desc) order. The parameter can be used with either numerical or alphabetical content. The directions can be entered in either all lowercase or all uppercase letters (i.e., both asc and ASC are accepted). E.g. sort=iati_identifier desc would sort in descending alphabetical order on iati_identifier.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "start",
              "description": "When specified, the start parameter specifies an offset into a query’s result set and instructs Solr to begin displaying results from this offset. used in conjunction with rows for pagination.",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "rows",
              "description": "You can use the rows parameter to paginate results from a query. The parameter specifies the maximum number of documents from the complete result set that Solr should return to the client at one time. The default value is 10. That is, by default, Solr returns 10 documents at a time in response to a query.",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "fq",
              "description": "The fq (Filter Query) parameter defines a query that can be used to restrict the superset of documents that can be returned, without influencing score. It can be very useful for speeding up complex queries, since the queries specified with fq are cached independently of the main query. When a later query uses the same filter, there’s a cache hit, and filter results are returned quickly from the cache.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "fl",
              "description": "The fl parameter limits the information included in a query response to a specified list of fields. The fields must be either stored=\"true\" or docValues=\"true\".\n\nThe field list can be specified as a space-separated or comma-separated list of field names. The string \"score\" can be used to indicate that the score of each document for the particular query should be returned as a field.\n\nThe wildcard character * selects all the fields in the document which are either stored=\"true\" or docValues=\"true\" and useDocValuesAsStored=\"true\" (which is the default when docValues are enabled). You can also add pseudo-fields, functions and transformers to the field list request.\n\nDefaults to the IATI fields as defined by the v2.03 Schema",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "timeAllowed",
              "description": "This parameter specifies the amount of time, in milliseconds, allowed for a search to complete. If this time expires before the search is complete, any partial results will be returned, but values such as numFound, facet counts, and result stats may not be accurate for the entire result set.",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "wt",
              "description": "The wt parameter selects the format of the response. The accepted values are either json, csv, or xml  for all collections, and they return the standard Solr response from those response writers.\n\nAdditionally, for the Activity collection the API supports a custom response, iati. This returns an XML document containing each Activity in exactly the form it was originally published.\n",
              "type": "string",
              "defaultValue": "json",
              "required": false,
              "values": ["json", "csv", "xml", "iati"]
            },
            {
              "name": "group",
              "description": "If true, query results will be grouped.",
              "type": "boolean",
              "defaultValue": "false",
              "required": false,
              "values": ["false", "true"]
            },
            {
              "name": "group.field",
              "description": "The name of the field by which to group results. The field must be single-valued, and either be indexed or a field type that has a value source and works in a function query, such as ExternalFileField. It must also be a string-based field, such as StrField or TextField\n\nAs per the nature of the architecture of Solr as inherited from version 2, many fields are by necessity multi-valued. For example, an Activity can have many Transactions, and therefore in the Activity collection the transaction field is multi-valued, and as such can not be used to group by.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet",
              "description": "If set to true, this parameter enables facet counts in the query response. If set to false, a blank or missing value, this parameter disables faceting. None of the other parameters listed below will have any effect unless this parameter is set to true. The default value is blank (false).",
              "type": "boolean",
              "defaultValue": "false",
              "required": false,
              "values": ["false", "true"]
            },
            {
              "name": "facet.field",
              "description": "The facet.field parameter identifies a field that should be treated as a facet. It iterates over each Term in the field and generates a facet count using that Term as the constraint. This parameter can be specified multiple times in a query to select multiple facet fields. \n\nIf you do not set this parameter to at least one field in the schema, none of the other facet parameters will have any effect.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.prefix",
              "description": "The facet.prefix parameter limits the terms on which to facet to those starting with the given string prefix. This does not limit the query in any way, only the facets that would be returned in response to the query.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.contains",
              "description": "The facet.contains parameter limits the terms on which to facet to those containing the given substring. This does not limit the query in any way, only the facets that would be returned in response to the query.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.contains.ignoreCase",
              "description": "If facet.contains is used, the facet.contains.ignoreCase parameter causes case to be ignored when matching the given substring against candidate facet terms.",
              "type": "boolean",
              "required": false,
              "values": []
            },
            {
              "name": "facet.matches",
              "description": "If you want to only return facet buckets for the terms that match a regular expression.",
              "type": "boolean",
              "required": false,
              "values": []
            },
            {
              "name": "facet.sort",
              "description": "This parameter determines the ordering of the facet field constraints.\nThere are two options for this parameter.\ncount\nSort the constraints by count (highest count first).\nindex\nReturn the constraints sorted in their index order (lexicographic by indexed term). For terms in the ASCII range, this will be alphabetically sorted.\nThe default is count if facet.limit is greater than 0, otherwise, the default is index.",
              "type": "string",
              "required": false,
              "values": ["count", "index"]
            },
            {
              "name": "facet.limit",
              "description": "This parameter specifies the maximum number of constraint counts (essentially, the number of facets for a field that are returned) that should be returned for the facet fields. A negative value means that Solr will return an unlimited number of constraint counts.\nThe default value is 100.\n",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "facet.offset",
              "description": "The facet.offset parameter indicates an offset into the list of constraints to allow paging.\nThe default value is 0.\n",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "facet.mincount",
              "description": "The facet.mincount parameter specifies the minimum counts required for a facet field to be included in the response. If a field’s counts are below the minimum, the field’s facet is not returned.\nThe default value is 0.",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "facet.missing",
              "description": "If set to true, this parameter indicates that, in addition to the Term-based constraints of a facet field, a count of all results that match the query but which have no facet value for the field should be computed and returned in the response.\nThe default value is false.",
              "type": "boolean",
              "required": false,
              "values": ["false", "true"]
            },
            {
              "name": "facet.method",
              "description": "The facet.method parameter selects the type of algorithm or method Solr should use when faceting a field.\nThe following methods are available.\n\nenum\nEnumerates all terms in a field, calculating the set intersection of documents that match the term with documents that match the query.\nThis method is recommended for faceting multi-valued fields that have only a few distinct values. \n\nfc (default)\nCalculates facet counts by iterating over documents that match the query and summing the terms that appear in each document.\n",
              "type": "string",
              "defaultValue": "fc",
              "required": false,
              "values": ["enum", "fc"]
            },
            {
              "name": "facet.exists",
              "description": "To cap facet counts by 1, specify facet.exists=true. This parameter can be used with facet.method=enum or when it’s omitted. It can be used only on non-trie fields (such as strings). It may speed up facet counting on large indices and/or high-cardinality facet values.",
              "type": "boolean",
              "required": false,
              "values": []
            },
            {
              "name": "facet.excludeTerms",
              "description": "If you want to remove terms from facet counts but keep them in the index, the facet.excludeTerms parameter allows you to do that.",
              "type": "boolean",
              "required": false,
              "values": []
            },
            {
              "name": "facet.range",
              "description": "The facet.range parameter defines the field for which Solr should create range facets.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.range.start",
              "description": "Specifies the lower bound of the ranges.\n",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.range.end",
              "description": "Specifies the upper bound of the ranges.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.range.gap",
              "description": "The span of each range expressed as a value to be added to the lower bound. You can specify this parameter on a per-field basis with the syntax of f.<fieldname>.facet.range.gap.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.range.other",
              "description": "The facet.range.other parameter specifies that in addition to the counts for each range constraint between facet.range.start and facet.range.end, counts should also be computed for these options:\nbefore: All records with field values lower than the lower bound of the first range.\nafter: All records with field values greater than the upper bound of the last range.\nbetween: All records with field values between the start and end bounds of all ranges.\nnone: Do not compute any counts.\nall: Compute counts for before, between, and after.\n",
              "type": "string",
              "defaultValue": "none",
              "required": false,
              "values": ["before", "after", "between", "none", "all"]
            },
            {
              "name": "facet.pivot",
              "description": "Pivoting is a summarization tool that lets you automatically sort, count, total or average data stored in a table. The facet.pivot parameter defines the fields to use for the pivot. Multiple facet.pivot values will create multiple \"facet_pivot\" sections in the response. Separate each list of fields with a comma.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "facet.pivot.mincount",
              "description": "The facet.pivot.mincount parameter defines the minimum number of documents that need to match in order for the facet to be included in results. The default is 1.",
              "type": "int",
              "required": false,
              "values": []
            },
            {
              "name": "csv.encapsulator",
              "description": "Used if wt=csv. encapsulator character for csv response. Default is \"",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.escape",
              "description": "Used if wt=csv. escape character for csv response. Default is None",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.separator",
              "description": "Used if wt=csv. separator character for csv response. Default is ,",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.header",
              "description": "Used if wt=csv. Defaults to true. If false, Solr does not print the column headers",
              "type": "boolean",
              "required": false,
              "values": []
            },
            {
              "name": "csv.newline",
              "description": "Used if wt=csv. newline character for csv response. Default is \\n",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.null",
              "description": "Used if wt=csv. Defaults to a zero length string. Use this parameter when a document has no value for a particular field.",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.mv.encapsulator",
              "description": "Used if wt=csv. encapsulator character for multi-valued fields in csv response. Default is None",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.mv.escape",
              "description": "Used if wt=csv. escape character for multi-valued fields in csv response. Default is \\",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "csv.mv.separator",
              "description": "Used if wt=csv. separator character for multi-valued fields in csv response. Defaults to the csv.separator value.",
              "type": "string",
              "required": false,
              "values": []
            }
          ],
          "headers": [],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Example Responses with all IATI fields in the returned document. \n\nMain formatting differences are based on the wt query parameter:\n\n* default and wt=json - application/json\n* wt=csv - text/plain in .csv format [example link](https://www.ecosia.com)\n* wt=xml - application/xml in Solr XML format",
            "headers": [
              {
                "name": "Content-Type",
                "type": "string",
                "defaultValue": "application/json",
                "required": false,
                "values": ["application/json", "text/plain", "application/xml"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"responseHeader\": {\r\n    \"zkConnected\": false,\r\n    \"status\": 0,\r\n    \"QTime\": 0,\r\n    \"params\": {\r\n      \"q\": \"string\",\r\n      \"start\": \"string\",\r\n      \"rows\": \"string\",\r\n      \"wt\": \"string\"\r\n    }\r\n  },\r\n  \"response\": {\r\n    \"numFound\": 0,\r\n    \"start\": 0,\r\n    \"numFoundExact\": false,\r\n    \"docs\": [\r\n      {\r\n        \"dataset_version\": \"string\",\r\n        \"dataset_linked_data_default\": \"string\",\r\n        \"dataset_generated_datetime\": \"string\",\r\n        \"xml_lang\": \"string\",\r\n        \"default_currency\": \"string\",\r\n        \"last_updated_datetime\": \"string\",\r\n        \"humanitarian\": \"string\",\r\n        \"linked_data_uri\": \"string\",\r\n        \"hierarchy\": \"string\",\r\n        \"budget_not_provided\": \"string\",\r\n        \"iati_identifier\": \"string\",\r\n        \"reporting_org_ref\": \"string\",\r\n        \"reporting_org_type\": \"string\",\r\n        \"reporting_org_secondary_reporter\": \"string\",\r\n        \"reporting_org_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"reporting_org_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"title_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"title_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"description_type\": [\r\n          \"string\"\r\n        ],\r\n        \"description_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"description_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_ref\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_role\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_type\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_activity_id\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_crs_channel_code\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"participating_org_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"other_identifier_ref\": \"string\",\r\n        \"other_identifier_type\": \"string\",\r\n        \"other_identifier_owner_org_ref\": \"string\",\r\n        \"other_identifier_owner_org_narrative\": \"string\",\r\n        \"activity_status_code\": \"string\",\r\n        \"activity_date_iso_date\": [\r\n          \"string\"\r\n        ],\r\n        \"activity_date_type\": [\r\n          \"string\"\r\n        ],\r\n        \"activity_date_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"activity_date_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"contact_info_type\": \"string\",\r\n        \"contact_info_organisation_narrative\": \"string\",\r\n        \"contact_info_department_narrative\": \"string\",\r\n        \"contact_info_person_name_narrative\": \"string\",\r\n        \"contact_info_job_title_narrative\": \"string\",\r\n        \"contact_info_telephone\": \"string\",\r\n        \"contact_info_email\": \"string\",\r\n        \"contact_info_website\": \"string\",\r\n        \"contact_info_mailing_address_narrative\": \"string\",\r\n        \"activity_scope_code\": \"string\",\r\n        \"recipient_country_code\": [\r\n          \"string\"\r\n        ],\r\n        \"recipient_country_percentage\": [\r\n          \"string\"\r\n        ],\r\n        \"recipient_region_code\": [\r\n          \"string\"\r\n        ],\r\n        \"recipient_region_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"recipient_region_percentage\": [\r\n          \"string\"\r\n        ],\r\n        \"recipient_region_vocabulary_uri\": [\r\n          \"string\"\r\n        ],\r\n        \"location_ref\": [\r\n          \"string\"\r\n        ],\r\n        \"location_location_reach_code\": [\r\n          \"string\"\r\n        ],\r\n        \"location_location_id_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"location_location_id_code\": [\r\n          \"string\"\r\n        ],\r\n        \"location_name_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"location_description_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"location_activity_description_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"location_administrative_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"location_administrative_level\": [\r\n          \"string\"\r\n        ],\r\n        \"location_administrative_code\": [\r\n          \"string\"\r\n        ],\r\n        \"location_point_srsName\": [\r\n          \"string\"\r\n        ],\r\n        \"location_point_pos\": [\r\n          \"string\"\r\n        ],\r\n        \"location_exactness_code\": [\r\n          \"string\"\r\n        ],\r\n        \"location_location_class_code\": [\r\n          \"string\"\r\n        ],\r\n        \"location_feature_designation_code\": [\r\n          \"string\"\r\n        ],\r\n        \"sector_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"sector_code\": [\r\n          \"string\"\r\n        ],\r\n        \"sector_percentage\": [\r\n          \"string\"\r\n        ],\r\n        \"sector_vocabulary_uri\": [\r\n          \"string\"\r\n        ],\r\n        \"sector_narrative\": \"string\",\r\n        \"tag_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"tag_code\": [\r\n          \"string\"\r\n        ],\r\n        \"tag_vocabulary_uri\": [\r\n          \"string\"\r\n        ],\r\n        \"tag_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"country_budget_items_vocabulary\": \"string\",\r\n        \"country_budget_items_budget_item_code\": [\r\n          \"string\"\r\n        ],\r\n        \"country_budget_items_budget_item_percentage\": [\r\n          \"string\"\r\n        ],\r\n        \"country_budget_items_budget_item_description_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"humanitarian_scope_type\": [\r\n          \"string\"\r\n        ],\r\n        \"humanitarian_scope_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"humanitarian_scope_code\": [\r\n          \"string\"\r\n        ],\r\n        \"humanitarian_scope_vocabulary_uri\": [\r\n          \"string\"\r\n        ],\r\n        \"humanitarian_scope_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"humanitarian_scope_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"policy_marker_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"policy_marker_code\": [\r\n          \"string\"\r\n        ],\r\n        \"policy_marker_significance\": [\r\n          \"string\"\r\n        ],\r\n        \"policy_marker_vocabulary_uri\": [\r\n          \"string\"\r\n        ],\r\n        \"policy_marker_narrative\": \"string\",\r\n        \"collaboration_type_code\": \"string\",\r\n        \"default_flow_type_code\": \"string\",\r\n        \"default_finance_type_code\": \"string\",\r\n        \"default_aid_type_code\": [\r\n          \"string\"\r\n        ],\r\n        \"default_aid_type_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"default_tied_status_code\": \"string\",\r\n        \"budget_type\": \"string\",\r\n        \"budget_status\": \"string\",\r\n        \"budget_period_start_iso_date\": \"string\",\r\n        \"budget_period_end_iso_date\": \"string\",\r\n        \"budget_value\": \"string\",\r\n        \"budget_value_currency\": \"string\",\r\n        \"budget_value_value_date\": \"string\",\r\n        \"planned_disbursement_type\": [\r\n          \"string\"\r\n        ],\r\n        \"planned_disbursement_period_start_iso_date\": [\r\n          \"string\"\r\n        ],\r\n        \"planned_disbursement_period_end_iso_date\": [\r\n          \"string\"\r\n        ],\r\n        \"planned_disbursement_value\": [\r\n          \"string\"\r\n        ],\r\n        \"planned_disbursement_value_currency\": [\r\n          \"string\"\r\n        ],\r\n        \"planned_disbursement_value_value_date\": [\r\n          \"string\"\r\n        ],\r\n        \"planned_disbursement_provider_org_provider_activity_id\": \"string\",\r\n        \"planned_disbursement_provider_org_type\": \"string\",\r\n        \"planned_disbursement_provider_org_ref\": \"string\",\r\n        \"planned_disbursement_provider_org_narrative\": \"string\",\r\n        \"planned_disbursement_receiver_org_receiver_activity_id\": \"string\",\r\n        \"planned_disbursement_receiver_org_type\": \"string\",\r\n        \"planned_disbursement_receiver_org_ref\": \"string\",\r\n        \"planned_disbursement_receiver_org_narrative\": \"string\",\r\n        \"capital_spend_percentage\": \"string\",\r\n        \"transaction_ref\": \"string\",\r\n        \"transaction_humanitarian\": \"string\",\r\n        \"transaction_transaction_type_code\": \"string\",\r\n        \"transaction_transaction_date_iso_date\": \"string\",\r\n        \"transaction_value\": \"string\",\r\n        \"transaction_value_currency\": \"string\",\r\n        \"transaction_value_value_date\": \"string\",\r\n        \"transaction_description_narrative\": \"string\",\r\n        \"transaction_provider_org_provider_activity_id\": \"string\",\r\n        \"transaction_provider_org_type\": \"string\",\r\n        \"transaction_provider_org_ref\": \"string\",\r\n        \"transaction_provider_org_narrative\": \"string\",\r\n        \"transaction_receiver_org_receiver_activity_id\": \"string\",\r\n        \"transaction_receiver_org_type\": \"string\",\r\n        \"transaction_receiver_org_ref\": \"string\",\r\n        \"transaction_receiver_org_narrative\": \"string\",\r\n        \"transaction_disbursement_channel_code\": \"string\",\r\n        \"transaction_flow_type_code\": \"string\",\r\n        \"transaction_finance_type_code\": \"string\",\r\n        \"transaction_aid_type_code\": [\r\n          \"string\"\r\n        ],\r\n        \"transaction_aid_type_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"transaction_tied_status_code\": \"string\",\r\n        \"document_link_format\": \"string\",\r\n        \"document_link_url\": \"string\",\r\n        \"document_link_title_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"document_link_title_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"document_link_description_narrative\": \"string\",\r\n        \"document_link_category_code\": \"string\",\r\n        \"document_link_language_code\": \"string\",\r\n        \"document_link_document_date_iso_date\": \"string\",\r\n        \"related_activity_ref\": \"string\",\r\n        \"related_activity_type\": \"string\",\r\n        \"legacy_data_name\": [\r\n          \"string\"\r\n        ],\r\n        \"legacy_data_value\": [\r\n          \"string\"\r\n        ],\r\n        \"legacy_data_iati_equivalent\": [\r\n          \"string\"\r\n        ],\r\n        \"conditions_attached\": \"string\",\r\n        \"conditions_condition_type\": \"string\",\r\n        \"conditions_condition_narrative\": [\r\n          \"string\"\r\n        ],\r\n        \"conditions_condition_narrative_xml_lang\": [\r\n          \"string\"\r\n        ],\r\n        \"result_type\": \"string\",\r\n        \"result_aggregation_status\": \"string\",\r\n        \"result_title_narrative\": \"string\",\r\n        \"result_description_narrative\": \"string\",\r\n        \"result_document_link_format\": \"string\",\r\n        \"result_document_link_url\": \"string\",\r\n        \"result_document_link_title_narrative\": \"string\",\r\n        \"result_document_link_description_narrative\": \"string\",\r\n        \"result_document_link_category_code\": \"string\",\r\n        \"result_document_link_language_code\": \"string\",\r\n        \"result_document_link_document_date_iso_date\": \"string\",\r\n        \"result_indicator_measure\": \"string\",\r\n        \"result_indicator_ascending\": \"string\",\r\n        \"result_indicator_aggregation_status\": \"string\",\r\n        \"result_indicator_title_narrative\": \"string\",\r\n        \"result_indicator_description_narrative\": \"string\",\r\n        \"result_indicator_document_link_format\": \"string\",\r\n        \"result_indicator_document_link_url\": \"string\",\r\n        \"result_indicator_document_link_title_narrative\": \"string\",\r\n        \"result_indicator_document_link_description_narrative\": \"string\",\r\n        \"result_indicator_document_link_category_code\": \"string\",\r\n        \"result_indicator_document_link_language_code\": \"string\",\r\n        \"result_indicator_document_link_document_date_iso_date\": \"string\",\r\n        \"result_indicator_reference_vocabulary\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_reference_code\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_reference_indicator_uri\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_baseline_year\": \"string\",\r\n        \"result_indicator_baseline_iso_date\": \"string\",\r\n        \"result_indicator_baseline_value\": \"string\",\r\n        \"result_indicator_baseline_location_ref\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_baseline_dimension_name\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_baseline_dimension_value\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_baseline_document_link_format\": \"string\",\r\n        \"result_indicator_baseline_document_link_url\": \"string\",\r\n        \"result_indicator_baseline_document_link_title_narrative\": \"string\",\r\n        \"result_indicator_baseline_document_link_description_narrative\": \"string\",\r\n        \"result_indicator_baseline_document_link_category_code\": \"string\",\r\n        \"result_indicator_baseline_document_link_language_code\": \"string\",\r\n        \"result_indicator_baseline_document_link_document_date_iso_date\": \"string\",\r\n        \"result_indicator_baseline_comment_narrative\": \"string\",\r\n        \"result_indicator_period_period_start_iso_date\": \"string\",\r\n        \"result_indicator_period_period_end_iso_date\": \"string\",\r\n        \"result_indicator_period_target_value\": \"string\",\r\n        \"result_indicator_period_target_location_ref\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_period_target_dimension_name\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_period_target_dimension_value\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_period_target_comment_narrative\": \"string\",\r\n        \"result_indicator_period_target_document_link_format\": \"string\",\r\n        \"result_indicator_period_target_document_link_url\": \"string\",\r\n        \"result_indicator_period_target_document_link_title_narrative\": \"string\",\r\n        \"result_indicator_period_target_document_link_description_narrative\": \"string\",\r\n        \"result_indicator_period_target_document_link_category_code\": \"string\",\r\n        \"result_indicator_period_target_document_link_language_code\": \"string\",\r\n        \"result_indicator_period_target_document_link_document_date_iso_date\": \"string\",\r\n        \"result_indicator_period_actual_value\": \"string\",\r\n        \"result_indicator_period_actual_location_ref\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_period_actual_dimension_name\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_period_actual_dimension_value\": [\r\n          \"string\"\r\n        ],\r\n        \"result_indicator_period_actual_comment_narrative\": \"string\",\r\n        \"result_indicator_period_actual_document_link_format\": \"string\",\r\n        \"result_indicator_period_actual_document_link_url\": \"string\",\r\n        \"result_indicator_period_actual_document_link_title_narrative\": \"string\",\r\n        \"result_indicator_period_actual_document_link_description_narrative\": \"string\",\r\n        \"result_indicator_period_actual_document_link_category_code\": \"string\",\r\n        \"result_indicator_period_actual_document_link_language_code\": \"string\",\r\n        \"result_indicator_period_actual_document_link_document_date_iso_date\": \"string\",\r\n        \"crs_add_other_flags_code\": \"string\",\r\n        \"crs_add_other_flags_significance\": \"string\",\r\n        \"crs_add_loan_terms_rate_1\": \"string\",\r\n        \"crs_add_loan_terms_rate_2\": \"string\",\r\n        \"crs_add_loan_terms_repayment_type_code\": \"string\",\r\n        \"crs_add_loan_terms_repayment_plan_code\": \"string\",\r\n        \"crs_add_loan_terms_commitment_date_iso_date\": \"string\",\r\n        \"crs_add_loan_terms_repayment_first_date_iso_date\": \"string\",\r\n        \"crs_add_loan_terms_repayment_final_date_iso_date\": \"string\",\r\n        \"crs_add_loan_status_year\": \"string\",\r\n        \"crs_add_loan_status_currency\": \"string\",\r\n        \"crs_add_loan_status_value_date\": \"string\",\r\n        \"crs_add_loan_status_interest_received\": \"string\",\r\n        \"crs_add_loan_status_principal_outstanding\": \"string\",\r\n        \"crs_add_loan_status_principal_arrears\": \"string\",\r\n        \"crs_add_loan_status_interest_arrears\": \"string\",\r\n        \"crs_add_channel_code\": \"string\",\r\n        \"fss_extraction_date\": \"string\",\r\n        \"fss_priority\": \"string\",\r\n        \"fss_phaseout_year\": \"string\",\r\n        \"fss_forecast\": \"string\",\r\n        \"fss_forecast_year\": \"string\",\r\n        \"fss_forecast_value_date\": \"string\",\r\n        \"fss_forecast_currency\": \"string\"\r\n      }\r\n    ]\r\n  }\r\n}",
                "schemaId": "1637146457784",
                "typeName": "Query Response All IATI Fields"
              },
              {
                "contentType": "text/plain"
              },
              {
                "contentType": "application/xml"
              }
            ]
          },
          {
            "statusCode": 400,
            "description": "Example 400 Response. Incorrect query parameter.",
            "headers": [
              {
                "name": "Content-Type",
                "type": "string",
                "defaultValue": "application/json",
                "required": false,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"responseHeader\": {\r\n    \"zkConnected\": true,\r\n    \"status\": 0,\r\n    \"QTime\": 0,\r\n    \"params\": {\r\n      \"sort\": \"string\",\r\n      \"rows\": \"string\"\r\n    }\r\n  },\r\n  \"error\": {\r\n    \"metadata\": [\r\n      \"string\"\r\n    ],\r\n    \"msg\": \"string\",\r\n    \"code\": 0\r\n  }\r\n}",
                "schemaId": "1637146457784",
                "typeName": "Invalid Query Parameter Response (400)"
              }
            ]
          }
        ],
        "displayName": "Query",
        "method": "GET",
        "urlTemplate": "/{collection}/{responsetype}"
      },
      "name": "[concat(parameters('ApimServiceName'), '/solr/query')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'datastore')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'datastore', '1637146457784')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/solr-query-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/solr/query/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'datastore', 'query')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/solr-apiPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/solr/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'datastore')]"
      ]
    },
    {
      "properties": {
        "description": "IATI's public validation API. Provides routes related to the validation of IATI XML.",
        "authenticationSettings": {
          "subscriptionKeyRequired": false
        },
        "subscriptionKeyParameterNames": {
          "header": "Ocp-Apim-Subscription-Key",
          "query": "subscription-key"
        },
        "apiRevision": "1",
        "isCurrent": true,
        "subscriptionRequired": true,
        "displayName": "IATI Validator",
        "path": "validator",
        "protocols": ["https"]
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2')]",
      "type": "Microsoft.ApiManagement/service/apis",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": []
    },
    {
      "properties": {
        "contentType": "application/vnd.oai.openapi.components+json",
        "document": {
          "components": {
            "schemas": {
              "No Body Error": {
                "type": "object",
                "properties": {
                  "error": {
                    "type": "string"
                  }
                },
                "example": {
                  "error": "No body"
                }
              },
              "Malformed Body Error": {
                "type": "object",
                "properties": {
                  "error": {
                    "type": "string"
                  }
                },
                "example": {
                  "error": "Body must be an application/xml string"
                }
              },
              "Validation Report Ad Hoc Validate": {
                "type": "object",
                "required": [
                  "valid",
                  "fileType",
                  "iatiVersion",
                  "rulesetCommitSha",
                  "codelistCommitSha",
                  "orgIdPrefixFileName",
                  "apiVersion",
                  "summary",
                  "errors"
                ],
                "properties": {
                  "valid": {
                    "type": "boolean",
                    "description": "Files with no critical severity errors are considered valid"
                  },
                  "fileType": {
                    "type": "string",
                    "description": "The type of IATI file",
                    "enum": ["iati-activities", "iati-organisations"]
                  },
                  "iatiVersion": {
                    "type": "string",
                    "description": "Version of the IATI Standard of the file",
                    "examples": ["2.01", "2.02", "2.03"]
                  },
                  "rulesetCommitSha": {
                    "type": "string",
                    "description": "git commit sha of the ruleset used to create the validation report"
                  },
                  "codelistCommitSha": {
                    "type": "string",
                    "description": "git commit sha of the codelist rules used to create the validation report"
                  },
                  "orgIdPrefixFileName": {
                    "type": "string",
                    "description": "file name of org id prefixes from https://org-id.guide/download.json"
                  },
                  "apiVersion": {
                    "type": "string",
                    "description": "version of the validator api"
                  },
                  "summary": {
                    "type": "object",
                    "required": ["critical", "error", "warning"],
                    "properties": {
                      "critical": {
                        "type": "integer",
                        "description": "Number of critical level validation errors with the file"
                      },
                      "error": {
                        "type": "integer",
                        "description": "Number of error level validation errors with the file"
                      },
                      "warning": {
                        "type": "integer",
                        "description": "Number of warning level validation errors with the file"
                      }
                    }
                  },
                  "errors": {
                    "type": "array",
                    "description": "array of errors, if empty the file has no errors",
                    "items": {
                      "type": "object",
                      "properties": {
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "errors": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "description": "The unique identifier of the error",
                                      "examples": ["9.26.1", "9.42.1"]
                                    },
                                    "severity": {
                                      "type": "string",
                                      "enum": ["critical", "danger", "warning"],
                                      "description": "The severity level of the error"
                                    },
                                    "message": {
                                      "type": "string",
                                      "description": "The informational message about the validation error"
                                    },
                                    "codelist": {
                                      "type": "string",
                                      "description": "The codelist that is being validated against (if applicable)",
                                      "examples": [
                                        "OrganisationRole",
                                        "DescriptionType",
                                        "ActivityDateType"
                                      ]
                                    },
                                    "context": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "text": {
                                            "type": "string",
                                            "description": "The context of the error",
                                            "examples": [
                                              "\"25\" is not a valid value for attribute @code"
                                            ]
                                          }
                                        },
                                        "required": ["text"]
                                      }
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "severity",
                                    "message",
                                    "context"
                                  ]
                                }
                              },
                              "category": {
                                "type": "string",
                                "enum": [
                                  "identifiers",
                                  "organisation",
                                  "information",
                                  "participating",
                                  "geo",
                                  "classifications",
                                  "financial",
                                  "documents",
                                  "relations",
                                  "performance"
                                ],
                                "description": "The category of the validation error"
                              }
                            },
                            "required": ["errors", "category"]
                          }
                        },
                        "identifier": {
                          "type": "string",
                          "description": "The activity's iati-identifier for iati-activities files, organisation-identifier for iati-organisations file, or 'file' for file level errors"
                        },
                        "title": {
                          "type": "string",
                          "description": "The activity's title for iati-activities files, the organisation name for iati-organisations files, or 'File level errors' for file level errors"
                        }
                      },
                      "required": ["errors", "identifier", "title"]
                    }
                  }
                },
                "example": {
                  "valid": false,
                  "fileType": "string",
                  "iatiVersion": "string",
                  "rulesetCommitSha": "string",
                  "codelistCommitSha": "string",
                  "orgIdPrefixFileName": "string",
                  "apiVersion": "string",
                  "summary": {
                    "critical": 0,
                    "error": 0,
                    "warning": 0
                  },
                  "errors": [
                    {
                      "errors": [
                        {
                          "errors": [
                            {
                              "id": "string",
                              "severity": "string",
                              "message": "string",
                              "codelist": "string",
                              "context": [
                                {
                                  "text": "string"
                                }
                              ]
                            }
                          ],
                          "category": "string"
                        }
                      ],
                      "identifier": "string",
                      "title": "string"
                    }
                  ]
                }
              },
              "Validation Report Published File": {
                "type": "object",
                "required": [
                  "registry_hash",
                  "registry_id",
                  "document_url",
                  "valid",
                  "report"
                ],
                "properties": {
                  "registry_hash": {
                    "type": "string",
                    "description": "hash of the file as defined by the IATI registry"
                  },
                  "registry_id": {
                    "type": "string",
                    "description": "id of the file as defined by the IATI registry"
                  },
                  "document_url": {
                    "type": "string",
                    "description": "url of the file as defined in the IATI registry"
                  },
                  "valid": {
                    "type": "boolean",
                    "description": "Files with no critical severity errors are considered valid"
                  },
                  "report": {
                    "type": "object",
                    "required": [
                      "valid",
                      "fileType",
                      "iatiVersion",
                      "rulesetCommitSha",
                      "codelistCommitSha",
                      "orgIdPrefixFileName",
                      "apiVersion",
                      "summary",
                      "errors"
                    ],
                    "properties": {
                      "valid": {
                        "type": "boolean",
                        "description": "Files with no critical severity errors are considered valid"
                      },
                      "fileType": {
                        "type": "string",
                        "description": "The type of IATI file",
                        "enum": ["iati-activities", "iati-organisations"]
                      },
                      "iatiVersion": {
                        "type": "string",
                        "description": "Version of the IATI Standard of the file",
                        "examples": ["2.01", "2.02", "2.03"]
                      },
                      "rulesetCommitSha": {
                        "type": "string",
                        "description": "git commit sha of the ruleset used to create the validation report"
                      },
                      "codelistCommitSha": {
                        "type": "string",
                        "description": "git commit sha of the codelist rules used to create the validation report"
                      },
                      "orgIdPrefixFileName": {
                        "type": "string",
                        "description": "file name of org id prefixes from https://org-id.guide/download.json"
                      },
                      "apiVersion": {
                        "type": "string",
                        "description": "version of the validator api"
                      },
                      "summary": {
                        "type": "object",
                        "required": ["critical", "error", "warning"],
                        "properties": {
                          "critical": {
                            "type": "integer",
                            "description": "Number of critical level validation errors with the file"
                          },
                          "error": {
                            "type": "integer",
                            "description": "Number of error level validation errors with the file"
                          },
                          "warning": {
                            "type": "integer",
                            "description": "Number of warning level validation errors with the file"
                          }
                        }
                      },
                      "errors": {
                        "type": "array",
                        "description": "array of errors, if empty the file has no errors",
                        "items": {
                          "type": "object",
                          "properties": {
                            "errors": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "errors": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "description": "The unique identifier of the error",
                                          "examples": ["9.26.1", "9.42.1"]
                                        },
                                        "severity": {
                                          "type": "string",
                                          "enum": [
                                            "critical",
                                            "danger",
                                            "warning"
                                          ],
                                          "description": "The severity level of the error"
                                        },
                                        "message": {
                                          "type": "string",
                                          "description": "The informational message about the validation error"
                                        },
                                        "codelist": {
                                          "type": "string",
                                          "description": "The codelist that is being validated against (if applicable)",
                                          "examples": [
                                            "OrganisationRole",
                                            "DescriptionType",
                                            "ActivityDateType"
                                          ]
                                        },
                                        "context": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "text": {
                                                "type": "string",
                                                "description": "The context of the error",
                                                "examples": [
                                                  "\"25\" is not a valid value for attribute @code"
                                                ]
                                              }
                                            },
                                            "required": ["text"]
                                          }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "severity",
                                        "message",
                                        "context"
                                      ]
                                    }
                                  },
                                  "category": {
                                    "type": "string",
                                    "enum": [
                                      "identifiers",
                                      "organisation",
                                      "information",
                                      "participating",
                                      "geo",
                                      "classifications",
                                      "financial",
                                      "documents",
                                      "relations",
                                      "performance"
                                    ],
                                    "description": "The category of the validation error"
                                  }
                                },
                                "required": ["errors", "category"]
                              }
                            },
                            "identifier": {
                              "type": "string",
                              "description": "The activity's iati-identifier for iati-activities files, organisation-identifier for iati-organisations file, or 'file' for file level errors"
                            },
                            "title": {
                              "type": "string",
                              "description": "The activity's title for iati-activities files, the organisation name for iati-organisations files, or 'File level errors' for file level errors"
                            }
                          },
                          "required": ["errors", "identifier", "title"]
                        }
                      }
                    }
                  }
                },
                "example": {
                  "registry_hash": "string",
                  "registry_id": "string",
                  "document_url": "string",
                  "valid": false,
                  "report": {
                    "valid": false,
                    "fileType": "string",
                    "iatiVersion": "string",
                    "rulesetCommitSha": "string",
                    "codelistCommitSha": "string",
                    "orgIdPrefixFileName": "string",
                    "apiVersion": "string",
                    "summary": {
                      "critical": 0,
                      "error": 0,
                      "warning": 0
                    },
                    "errors": [
                      {
                        "errors": [
                          {
                            "errors": [
                              {
                                "id": "string",
                                "severity": "string",
                                "message": "string",
                                "codelist": "string",
                                "context": [
                                  {
                                    "text": "string"
                                  }
                                ]
                              }
                            ],
                            "category": "string"
                          }
                        ],
                        "identifier": "string",
                        "title": "string"
                      }
                    ]
                  }
                }
              },
              "Existing Report missing query parameter": {
                "type": "object",
                "properties": {
                  "client_error": {
                    "type": "string"
                  }
                },
                "example": {
                  "client_error": "Either the id, url or hash of the document as obtained from the IATI Registry must be supplied as a GET parameter"
                }
              },
              "Existing Report Not Found": {
                "type": "object",
                "properties": {
                  "client_error": {
                    "type": "string"
                  }
                },
                "example": {
                  "client_error": "The requested report does not exist."
                }
              }
            }
          }
        }
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/1622545438727')]",
      "type": "Microsoft.ApiManagement/service/apis/schemas",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'iati-validator-v2')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "Get an existing validation report of a published IATI document known to the IATI Registry by passing either the id, hash or URL of the document, as available from the Registry API.\n\n[GitHub Repository](https://github.com/IATI/validator-services)\n\n[Error ID Information](https://github.com/IATI/validator-rule-tracker)\n",
        "request": {
          "queryParameters": [
            {
              "name": "id",
              "description": "id of the published document for which you want a validation report, as provided by the Registry API",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "url",
              "description": "url of the published document for which you want a validation report, as provided by the Registry API",
              "type": "string",
              "required": false,
              "values": []
            },
            {
              "name": "hash",
              "description": "hash of the published document for which you want a validation report, as provided by the Registry API",
              "type": "string",
              "required": false,
              "values": []
            }
          ],
          "headers": [
            {
              "name": "Accept",
              "type": "string",
              "defaultValue": "application/json",
              "required": false,
              "values": ["application/json"]
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 422,
            "description": "Response if id, url or hash is not provided as a query parameter.",
            "headers": [
              {
                "name": "Content-Type",
                "description": "content type of the response",
                "type": "string",
                "defaultValue": "application/json",
                "required": true,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"client_error\": \"Either the id, url or hash of the document as obtained from the IATI Registry must be supplied as a GET parameter\"\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Existing Report missing query parameter"
              }
            ]
          },
          {
            "statusCode": 404,
            "description": "Response if a report cannot be found for the supplied id, url or hash.",
            "headers": [
              {
                "name": "Content-Type",
                "description": "content type of response",
                "type": "string",
                "defaultValue": "application/json",
                "required": true,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"client_error\": \"The requested report does not exist.\"\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Existing Report Not Found"
              }
            ]
          },
          {
            "statusCode": 200,
            "description": "Response if a report is found and returned.",
            "headers": [
              {
                "name": "Content-Type",
                "description": "content type of the response",
                "type": "string",
                "defaultValue": "application/json",
                "required": true,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"registry_hash\": \"string\",\r\n  \"registry_id\": \"string\",\r\n  \"document_url\": \"string\",\r\n  \"valid\": false,\r\n  \"report\": {\r\n    \"valid\": false,\r\n    \"fileType\": \"string\",\r\n    \"iatiVersion\": \"string\",\r\n    \"rulesetCommitSha\": \"string\",\r\n    \"codelistCommitSha\": \"string\",\r\n    \"orgIdPrefixFileName\": \"string\",\r\n    \"apiVersion\": \"string\",\r\n    \"summary\": {\r\n      \"critical\": 0,\r\n      \"error\": 0,\r\n      \"warning\": 0\r\n    },\r\n    \"errors\": [\r\n      {\r\n        \"errors\": [\r\n          {\r\n            \"errors\": [\r\n              {\r\n                \"id\": \"string\",\r\n                \"severity\": \"string\",\r\n                \"message\": \"string\",\r\n                \"codelist\": \"string\",\r\n                \"context\": [\r\n                  {\r\n                    \"text\": \"string\"\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            \"category\": \"string\"\r\n          }\r\n        ],\r\n        \"identifier\": \"string\",\r\n        \"title\": \"string\"\r\n      }\r\n    ]\r\n  }\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Validation Report Published File"
              }
            ]
          }
        ],
        "displayName": "Existing Report",
        "method": "GET",
        "urlTemplate": "/report"
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/get-pub-get-report')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'iati-validator-v2')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'iati-validator-v2', '1622545438727')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/iati-validator-v2-get-pub-get-report-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/get-pub-get-report/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'iati-validator-v2', 'get-pub-get-report')]"
      ]
    },
    {
      "properties": {
        "displayName": "validator"
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/get-pub-get-report/validator')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'iati-validator-v2', 'get-pub-get-report')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "This route allows the user to POST an IATI document to the Validator in the body of the request, and receive a JSON validation report in the response.\n\n[GitHub Repository](https://github.com/IATI/js-validator-api)  \n\n[Error ID Information](https://github.com/IATI/validator-rule-tracker)\n",
        "request": {
          "description": "IATI XML document (organisations or activities)",
          "queryParameters": [
            {
              "name": "group",
              "description": "group errors by activity (or organisation) and category. Defaults to true if left blank. Set to false to ungroup errors.",
              "type": "string",
              "required": false,
              "values": ["true", "false"]
            },
            {
              "name": "details",
              "description": "show all available details of errors. Defaults to false if left blank. Set to true to see all details. ",
              "type": "string",
              "required": false,
              "values": ["false", "true"]
            }
          ],
          "headers": [
            {
              "name": "Content-Type",
              "description": "Indicates the content type of the request body",
              "type": "string",
              "required": true,
              "values": ["application/xml"]
            },
            {
              "name": "Accept",
              "type": "string",
              "defaultValue": "application/json",
              "required": true,
              "values": ["application/json"]
            }
          ],
          "representations": [
            {
              "contentType": "application/xml"
            },
            {
              "contentType": "application/json"
            },
            {
              "contentType": "text/plain"
            },
            {
              "contentType": "text/xml"
            },
            {
              "contentType": "text/xml"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 400,
            "description": "The body is either not present or is malformed.",
            "headers": [
              {
                "name": "Content-Type",
                "description": "content type",
                "type": "string",
                "defaultValue": "application/json",
                "required": false,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"error\": \"No body\"\r\n}",
                "schemaId": "1622545438727",
                "typeName": "No Body Error"
              },
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"error\": \"Body must be an application/xml string\"\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Malformed Body Error"
              },
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"valid\": false,\r\n  \"fileType\": \"string\",\r\n  \"iatiVersion\": \"string\",\r\n  \"rulesetCommitSha\": \"string\",\r\n  \"codelistCommitSha\": \"string\",\r\n  \"orgIdPrefixFileName\": \"string\",\r\n  \"apiVersion\": \"string\",\r\n  \"summary\": {\r\n    \"critical\": 0,\r\n    \"error\": 0,\r\n    \"warning\": 0\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"errors\": [\r\n        {\r\n          \"errors\": [\r\n            {\r\n              \"id\": \"string\",\r\n              \"severity\": \"string\",\r\n              \"message\": \"string\",\r\n              \"codelist\": \"string\",\r\n              \"context\": [\r\n                {\r\n                  \"text\": \"string\"\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          \"category\": \"string\"\r\n        }\r\n      ],\r\n      \"identifier\": \"string\",\r\n      \"title\": \"string\"\r\n    }\r\n  ]\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Validation Report Ad Hoc Validate"
              }
            ]
          },
          {
            "statusCode": 422,
            "description": "Content of the body can be interpreted by the application but doesn't make sense for one of the following reasons.\n- Not recognisable as IATI\n- Critical (Schema) Errors\n- Not a supported version of IATI",
            "headers": [
              {
                "name": "Content-Type",
                "description": "content type",
                "type": "string",
                "defaultValue": "application/json",
                "required": false,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"valid\": false,\r\n  \"fileType\": \"string\",\r\n  \"iatiVersion\": \"string\",\r\n  \"rulesetCommitSha\": \"string\",\r\n  \"codelistCommitSha\": \"string\",\r\n  \"orgIdPrefixFileName\": \"string\",\r\n  \"apiVersion\": \"string\",\r\n  \"summary\": {\r\n    \"critical\": 0,\r\n    \"error\": 0,\r\n    \"warning\": 0\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"errors\": [\r\n        {\r\n          \"errors\": [\r\n            {\r\n              \"id\": \"string\",\r\n              \"severity\": \"string\",\r\n              \"message\": \"string\",\r\n              \"codelist\": \"string\",\r\n              \"context\": [\r\n                {\r\n                  \"text\": \"string\"\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          \"category\": \"string\"\r\n        }\r\n      ],\r\n      \"identifier\": \"string\",\r\n      \"title\": \"string\"\r\n    }\r\n  ]\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Validation Report Ad Hoc Validate"
              }
            ]
          },
          {
            "statusCode": 200,
            "description": "No Critical errors were detected with the IATI document and validation was successful. There may be validation errors of severity \"error\" or \"warning\" with the document.",
            "headers": [
              {
                "name": "Content-Type",
                "description": "content type",
                "type": "string",
                "defaultValue": "application/json",
                "required": false,
                "values": ["application/json"]
              }
            ],
            "representations": [
              {
                "contentType": "application/json",
                "sample": "{\r\n  \"valid\": false,\r\n  \"fileType\": \"string\",\r\n  \"iatiVersion\": \"string\",\r\n  \"rulesetCommitSha\": \"string\",\r\n  \"codelistCommitSha\": \"string\",\r\n  \"orgIdPrefixFileName\": \"string\",\r\n  \"apiVersion\": \"string\",\r\n  \"summary\": {\r\n    \"critical\": 0,\r\n    \"error\": 0,\r\n    \"warning\": 0\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"errors\": [\r\n        {\r\n          \"errors\": [\r\n            {\r\n              \"id\": \"string\",\r\n              \"severity\": \"string\",\r\n              \"message\": \"string\",\r\n              \"codelist\": \"string\",\r\n              \"context\": [\r\n                {\r\n                  \"text\": \"string\"\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          \"category\": \"string\"\r\n        }\r\n      ],\r\n      \"identifier\": \"string\",\r\n      \"title\": \"string\"\r\n    }\r\n  ]\r\n}",
                "schemaId": "1622545438727",
                "typeName": "Validation Report Ad Hoc Validate"
              }
            ]
          }
        ],
        "displayName": "Validate",
        "method": "POST",
        "urlTemplate": "/validate"
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/post-pub-validate-post')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'iati-validator-v2')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'iati-validator-v2', '1622545438727')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/iati-validator-v2-post-pub-validate-post-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/post-pub-validate-post/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'iati-validator-v2', 'post-pub-validate-post')]"
      ]
    },
    {
      "properties": {
        "displayName": "validator"
      },
      "name": "[concat(parameters('ApimServiceName'), '/iati-validator-v2/post-pub-validate-post/validator')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'iati-validator-v2', 'post-pub-validate-post')]"
      ]
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/exploratory/iati-validator-v2')]",
      "type": "Microsoft.ApiManagement/service/products/apis",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'iati-validator-v2')]"
      ]
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/unlimited/iati-validator-v2')]",
      "type": "Microsoft.ApiManagement/service/products/apis",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'iati-validator-v2')]"
      ]
    },
    {
      "properties": {
        "description": "Validator Services Routes",
        "authenticationSettings": {
          "subscriptionKeyRequired": false
        },
        "subscriptionKeyParameterNames": {
          "header": "Ocp-Apim-Subscription-Key",
          "query": "subscription-key"
        },
        "apiRevision": "1",
        "isCurrent": true,
        "subscriptionRequired": true,
        "displayName": "Validator Services Private",
        "path": "vs",
        "protocols": ["https"]
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private')]",
      "type": "Microsoft.ApiManagement/service/apis",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": []
    },
    {
      "properties": {
        "contentType": "application/vnd.oai.openapi.components+json",
        "document": {
          "components": {
            "schemas": {
              "PvtPublishers-id-DocumentsGetRequest": {
                "x-apim-inline": true
              },
              "PvtPublishers-id-GetRequest": {
                "x-apim-inline": true
              },
              "PvtDocuments-id-GetRequest": {
                "x-apim-inline": true
              },
              "PvtGuidance-links-version-GetRequest": {
                "x-apim-inline": true
              },
              "PvtAdhocSessionGetRequest": {
                "x-apim-inline": true
              }
            }
          }
        }
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/6110dd60217d200e04c7fe43')]",
      "type": "Microsoft.ApiManagement/service/apis/schemas",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pub-get-report",
        "method": "GET",
        "urlTemplate": "/pub/validation/existing"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pub-get-report')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pub-get-report-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pub-get-report/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pub-get-report')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pub-get-validator-version",
        "method": "GET",
        "urlTemplate": "/pub/validator-version"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pub-get-version-1')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pub-get-version-1-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pub-get-version-1/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pub-get-version-1')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pub-get-version",
        "method": "GET",
        "urlTemplate": "/pub/version"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pub-get-version')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pub-get-version-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pub-get-version/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pub-get-version')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [
          {
            "name": "sessionId",
            "type": "",
            "required": true,
            "values": []
          }
        ],
        "description": "pvt-get-adhoc-session",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": [
            {
              "contentType": "multipart/form-data",
              "formParameters": [
                {
                  "name": "rootNodeName",
                  "type": "string",
                  "required": false,
                  "values": []
                }
              ]
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "null",
            "headers": [],
            "representations": []
          }
        ],
        "displayName": "pvt-get-adhoc-session",
        "method": "GET",
        "urlTemplate": "/pvt/adhoc/session?sessionId={sessionId}"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/610a46b0342160c523b5a90f')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-610a46b0342160c523b5a90f-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/610a46b0342160c523b5a90f/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', '610a46b0342160c523b5a90f')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [
          {
            "name": "version",
            "type": "",
            "required": true,
            "values": []
          }
        ],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pvt-get-guidance-links",
        "method": "GET",
        "urlTemplate": "/pvt/guidance-links/{version}"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-guidance-links')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pvt-get-guidance-links-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-guidance-links/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pvt-get-guidance-links')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pvt-get-publishers",
        "method": "GET",
        "urlTemplate": "/pvt/publishers"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-publishers')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pvt-get-publishers-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-publishers/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pvt-get-publishers')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [
          {
            "name": "id",
            "type": "",
            "required": true,
            "values": []
          }
        ],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pvt-get-publishers-documents",
        "method": "GET",
        "urlTemplate": "/pvt/publishers/{id}/documents"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-publisher-documents')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pvt-get-publisher-documents-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-publisher-documents/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pvt-get-publisher-documents')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [
          {
            "name": "id",
            "type": "",
            "required": true,
            "values": []
          }
        ],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pvt-get-single-document",
        "method": "GET",
        "urlTemplate": "/pvt/documents/{id}"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-single-document')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pvt-get-single-document-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-single-document/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pvt-get-single-document')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [
          {
            "name": "id",
            "type": "",
            "required": true,
            "values": []
          }
        ],
        "description": "",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [],
        "displayName": "pvt-get-single-publisher",
        "method": "GET",
        "urlTemplate": "/pvt/publishers/{id}"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-single-publisher')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-get-pvt-get-single-publisher-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/get-pvt-get-single-publisher/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'get-pvt-get-single-publisher')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "Uploader for adhoc validation",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "null",
            "headers": [],
            "representations": []
          }
        ],
        "displayName": "pvt-post-adhoc-file",
        "method": "POST",
        "urlTemplate": "/pvt/adhoc/upload"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/pvt-post-adhoc-file')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-pvt-post-adhoc-file-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/pvt-post-adhoc-file/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', 'pvt-post-adhoc-file')]"
      ]
    },
    {
      "properties": {
        "templateParameters": [],
        "description": "URL poster for adhoc validation",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "null",
            "headers": [],
            "representations": []
          }
        ],
        "displayName": "pvt-post-adhoc-url",
        "method": "POST",
        "urlTemplate": "/pvt/adhoc/url"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/6114e44dd2a66d17c80f78ce')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-6114e44dd2a66d17c80f78ce-operationPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/6114e44dd2a66d17c80f78ce/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'validator-services-private', '6114e44dd2a66d17c80f78ce')]"
      ]
    },
    {
      "properties": {
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/validator-services-private-apiPolicy.xml')]",
        "format": "rawxml-link"
      },
      "name": "[concat(parameters('ApimServiceName'), '/validator-services-private/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/policies",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/private-routes/validator-services-private')]",
      "type": "Microsoft.ApiManagement/service/products/apis",
      "apiVersion": "2021-01-01-preview",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'validator-services-private')]"
      ]
    }
  ]
}
